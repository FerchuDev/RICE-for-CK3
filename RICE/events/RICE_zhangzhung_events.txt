###############################################################################
# 
# ZHANGZHUNG
# 
# zhangzhung.0000-zhangzhung.0019			Setup events, history events, miscellaneous events and decisions
# zhangzhung.0020-zhangzhung.0049			Tertons and Termas
# zhangzhung.0050-zhangzhung.0069			Misc Dharmachakra/Rajas of Asia Adapted Content
# zhangzhung.0070-zhangzhung.0089			Losar Activity (Adapted from Dharmachakra/Rajas of Asia)
# zhangzhung.0090-zhangzhung.0099			?????
# zhangzhung.0100-zhangzhung.0119			Fulaich Flower Festival
# zhangzhung.0120-zhangzhung.0139			Historical Characters
# zhangzhung.0140-zhangzhung.0149			?????
# zhangzhung.0150-zhangzhung.0199			Generic flavor events
# 
###############################################################################

namespace = zhangzhung

######################################################################################
# 
# SETUP EVENTS, HISTORY EVENTS, MISC DECISIONS
# 
# zhangzhung.0000-zhangzhung.0019
# 
######################################################################################


# Milarepa defeats the Bon master Naro Bonchung at Mount Kailash, supposedly
# Setup event
zhangzhung.0001 = {
	hidden = yes

	immediate = {	
		character:RICE_buddhist_008 = {
			save_scope_as = milarepa
		}	
		character:RICE_bon_002 = {
			save_scope_as = naro_bonchung
		}	
		set_global_variable = {
			name = RICE_milarepa_kailash_event_happened
			value = yes
		}
		religion:buddhism_religion = {
			every_faith = {
				limit = {
					has_doctrine = rice_vajrayana_canon_doctrine
				}
				change_fervor = {
					value = 5
					desc = fervor_gain_RICE_milarepa_event
				}
			}
		}
		every_ruler = {
			limit = {
				OR = {
					faith = {
						has_doctrine = rice_vajrayana_canon_doctrine
					}
					#religion = religion:buddhism_religion
					religion = religion:bon_religion
					religion = religion:west_himalayan_religion
					culture = {
						has_cultural_pillar = heritage_tibetan
					}
					AND = {
						religion = religion:buddhism_religion
						any_held_title = {
							tier = tier_county
							any_county_province = {
								OR = {
									geographical_region = world_himalaya
									geographical_region = world_steppe_tarim
									geographical_region = world_india_rajastan
									geographical_region = world_india_bengal
								}
							}
						}
					}
				}
				any_held_title = {
					tier = tier_county
					any_county_province = {
						OR = {
							geographical_region = world_middle_east_persia
							geographical_region = world_tibet
							geographical_region = world_india
							geographical_region = world_steppe_tarim
							geographical_region = world_steppe_east
						}
					}
				}
			}
			trigger_event = zhangzhung.0002
		}
	}
}

# Milarepa Mount Kailash notification event for everyone
zhangzhung.0002 = {
	type = character_event
	title = zhangzhung.0002.t
	window = big_event_window
	desc = zhangzhung.0002.desc
	theme = RICE_theme_mount_kailash

	left_portrait = {
		character = scope:naro_bonchung
		animation = personality_forgiving
	}

	right_portrait = {
		character = scope:milarepa
		animation = personality_compassionate
	}

	option = {
		name = zhangzhung.0002.a
		trigger_event = zhangzhung.0003
	}

}

# Milarepa Mount Kailash notification event for everyone
zhangzhung.0003 = {
	type = character_event
	title = zhangzhung.0003.t
	window = big_event_window
	desc = zhangzhung.0003.desc
	theme = RICE_theme_mount_kailash
	override_effect_2d = {
		reference = legend_glow
	}

	left_portrait = {
		character = scope:naro_bonchung
		animation = wedding_priest
	}

	right_portrait = {
		character = scope:milarepa
		animation = eavesdrop
	}

	immediate = {		
		play_music_cue = mx_tibet_cue_1
	}

	option = {
		name = zhangzhung.0003.a
		trigger = {
			religion = religion:buddhism_religion
			faith = { has_doctrine = rice_vajrayana_canon_doctrine }
		}
	}

	option = {
		name = zhangzhung.0003.b
		trigger = {
			religion = religion:bon_religion
		}
	}

	option = {
		name = zhangzhung.0003.c
		trigger = {
			NOR = {
				religion = religion:buddhism_religion
				religion = religion:bon_religion
			}
			title:b_teglakar = {
				is_holy_site_of = root.faith
			}
		}
	}

	option = {
		name = zhangzhung.0003.d
		trigger = {
			religion = religion:buddhism_religion
			NOT = { faith = { has_doctrine = rice_vajrayana_canon_doctrine } }
		}
	}

	option = {
		name = zhangzhung.0003.e
		trigger = {
			NOR = {
				religion = religion:buddhism_religion
				religion = religion:bon_religion
				title:b_teglakar = {
					is_holy_site_of = root.faith
				}
			}
		}
	}

	after = {
		custom_tooltip = zhangzhung.0003.tooltip
		show_as_tooltip = {
			religion:buddhism_religion = {
				every_faith = {
					custom = RICE_every_tantric_buddhist_faith
					limit = {
						has_doctrine = rice_vajrayana_canon_doctrine
					}
					change_fervor = {
						value = 5
						desc = fervor_gain_RICE_milarepa_event
					}
				}
			}
		}
	}
	
}

# Supplicating at Ancient Pillars
zhangzhung.0010 = {
	type = character_event
	title = zhangzhung.0010.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					capital_county = {
						title_province = { geographical_region = RICE_upper_tibet }
					}
				}
				desc = zhangzhung.0010.desc.upper_tibet
			}
			desc = zhangzhung.0010.desc.outside_upper_tibet
		}
		desc = zhangzhung.0010.desc
	}
	theme = faith
	override_background = { reference = RICE_background_zhangzhung_ruins }

	right_portrait = {
		character = root
		animation = prayer
	}

	option = {
		name = zhangzhung.0010.a
		RICE_zhangzhung_pillars_general_effect = yes
		RICE_zhangzhung_pillars_diplomacy_effect = yes
	}

	option = {
		name = zhangzhung.0010.b
		RICE_zhangzhung_pillars_general_effect = yes
		RICE_zhangzhung_pillars_martial_effect = yes
	}

	option = {
		name = zhangzhung.0010.c
		RICE_zhangzhung_pillars_general_effect = yes
		RICE_zhangzhung_pillars_stewardship_effect = yes
	}

	option = {
		name = zhangzhung.0010.d
		RICE_zhangzhung_pillars_general_effect = yes
		RICE_zhangzhung_pillars_intrigue_effect = yes
	}

	option = {
		name = zhangzhung.0010.e
		RICE_zhangzhung_pillars_general_effect = yes
		RICE_zhangzhung_pillars_learning_effect = yes
	}
}


# Himalayan salt expedition sets out
zhangzhung.0011 = {
	type = character_event
	title = zhangzhung.0011.t
	desc = zhangzhung.0011.desc
	theme = stewardship_wealth_focus
	override_background = { reference = RICE_background_himalayan_wilderness }

	left_portrait = {
		character = root
		animation = personality_greedy
	}

	option = {
		name = zhangzhung.0011.a
		custom_tooltip = zhangzhung.0011.a.tooltip
	}

	option = {
		name = zhangzhung.0011.b
		add_piety = minor_piety_loss
		custom_tooltip = zhangzhung.0011.b.tooltip
		add_character_flag = {
			flag = RICE_himalayan_salt_expedition_small_piety_boost
			days = 120 # Failsafe in case it doesn't go away
		}
	}

	option = {
		name = zhangzhung.0011.c
		add_piety = medium_piety_loss
		custom_tooltip = zhangzhung.0011.c.tooltip
		add_character_flag = {
			flag = RICE_himalayan_salt_expedition_large_piety_boost
			days = 120 # Failsafe in case it doesn't go away
		}
	}

	after = {
		custom_tooltip = zhangzhung.0011.general.tooltip
		trigger_event = {
			id = zhangzhung.0012
			#days = { 30 90 }
		}
	}

}


# Himalayan salt expedition returns
zhangzhung.0012 = {
	type = character_event
	title = zhangzhung.0012.t
	desc = {
		desc = zhangzhung.0012.desc
		first_valid = {
			triggered_desc = {
				trigger = {
					has_character_flag = RICE_himalayan_salt_expedition_success
				}
				desc = zhangzhung.0012.desc.success
			}
			desc = zhangzhung.0012.desc.failure
		}		
		first_valid = {
			triggered_desc = {
				trigger = {
					has_character_flag = RICE_himalayan_salt_expedition_low
				}
				desc = zhangzhung.0012.desc.low
			}
			triggered_desc = {
				trigger = {
					has_character_flag = RICE_himalayan_salt_expedition_medium
				}
				desc = zhangzhung.0012.desc.medium
			}
			triggered_desc = {
				trigger = {
					has_character_flag = RICE_himalayan_salt_expedition_high
				}
				desc = zhangzhung.0012.desc.high
			}
		}		
	}
	theme = stewardship_wealth_focus
	override_background = { reference = RICE_background_himalayan_wilderness }

	right_portrait = {
		character = root
		triggered_animation = {
			trigger = { has_character_flag = RICE_himalayan_salt_expedition_success }
			animation = happiness
		}
		triggered_animation = {
			trigger = { NOT = { has_character_flag = RICE_himalayan_salt_expedition_success } }
			animation = sadness
		}
	}

	immediate = {
		random = {
			chance = RICE_himalayan_salt_expedition_success_chance
			add_character_flag = RICE_himalayan_salt_expedition_success
			random_list = {
				25 = {
					add_character_flag = RICE_himalayan_salt_expedition_low
				}
				20 = {
					modifier = {
						add = {
							value = stewardship
							multiply = 0.3
							max = 10
						}
					}
					modifier = {
						add = {
							value = diplomacy
							multiply = 0.2
							max = 10
						}
					}
					modifier = {
						add = {
							value = intrigue
							multiply = 0.2
							max = 10
						}
					}
					add_character_flag = RICE_himalayan_salt_expedition_medium
				}
				15 = {
					modifier = {
						add = {
							value = stewardship
							multiply = 0.15
							max = 10
						}
					}
					modifier = {
						add = {
							value = diplomacy
							multiply = 0.1
							max = 10
						}
					}
					modifier = {
						add = {
							value = intrigue
							multiply = 0.1
							max = 10
						}
					}
					add_character_flag = RICE_himalayan_salt_expedition_high
				}
			}
		}
	}

	option = {
		name = {
			trigger = { NOT = { has_character_flag = RICE_himalayan_salt_expedition_success } }
			text = zhangzhung.0012.a.failure
		}
		name = {
			trigger = { has_character_flag = RICE_himalayan_salt_expedition_low }
			text = zhangzhung.0012.a.low
		}
		name = {
			trigger = { has_character_flag = RICE_himalayan_salt_expedition_medium }
			text = zhangzhung.0012.a.medium
		}
		name = {
			trigger = { has_character_flag = RICE_himalayan_salt_expedition_high }
			text = zhangzhung.0012.a.high
		}
		if = {
			limit = {
				has_character_flag = RICE_himalayan_salt_expedition_success
			}
			add_prestige = { RICE_himalayan_salt_expedition_min_prestige_gain_value RICE_himalayan_salt_expedition_max_prestige_gain_value }
			add_gold = { RICE_himalayan_salt_expedition_min_gold_gain_value RICE_himalayan_salt_expedition_max_gold_gain_value }
		}
		if = {
			limit = {
				NOT = { has_character_flag = RICE_himalayan_salt_expedition_success }
			}
			stress_impact = {
				greedy = minor_stress_impact_gain
				ambitious = miniscule_stress_impact_gain
				wrathful = miniscule_stress_impact_gain
			}
		}
		if = {
			limit = {
				OR = {
					has_character_flag = RICE_himalayan_salt_expedition_medium
					has_character_flag = RICE_himalayan_salt_expedition_high
				}
			}
			stress_impact = {
				greedy = minor_stress_impact_loss
				ambitious = miniscule_stress_impact_loss
				diligent = miniscule_stress_impact_loss
			}
		}
	}

	after = {
		if = {
			limit = {
				has_character_flag = RICE_himalayan_salt_expedition_success
			}
			remove_character_flag = RICE_himalayan_salt_expedition_success
		}
		if = {
			limit = {
				has_character_flag = RICE_himalayan_salt_expedition_low
			}
			remove_character_flag = RICE_himalayan_salt_expedition_low
		}
		if = {
			limit = {
				has_character_flag = RICE_himalayan_salt_expedition_medium
			}
			remove_character_flag = RICE_himalayan_salt_expedition_medium
		}
		if = {
			limit = {
				has_character_flag = RICE_himalayan_salt_expedition_high
			}
			remove_character_flag = RICE_himalayan_salt_expedition_high
		}
		if = {
			limit = {
				has_character_flag = RICE_himalayan_salt_expedition_small_piety_boost
			}
			remove_character_flag = RICE_himalayan_salt_expedition_small_piety_boost
		}
		if = {
			limit = {
				has_character_flag = RICE_himalayan_salt_expedition_large_piety_boost
			}
			remove_character_flag = RICE_himalayan_salt_expedition_large_piety_boost
		}
	}

}

# Reviving/Restoring Zhangzhung
zhangzhung.0013 = {
	type = character_event
	title = zhangzhung.0013.t
	desc = {
		desc = zhangzhung.0013.desc
		first_valid = {	
			triggered_desc = {
				trigger = {
					scope:zhangzhung_reviver = {
						OR = {
							religion = religion:bon_religion
							religion = religion:west_himalayan_religion
						}
					}
				}
				desc = zhangzhung.0013.desc.bon
			}
			desc = zhangzhung.0013.desc.non_bon
		}
	}
	theme = RICE_theme_tibet_temple_exterior

	right_portrait = {
		character = root
		animation = war_over_win
	}

	lower_left_portrait = {		
		character = scope:last_zhangzhung
		trigger = {
			exists = scope:last_zhangzhung
		} 
	}

	lower_right_portrait = {		
		character = scope:songtsen_gampo
		trigger = {
			exists = scope:songtsen_gampo
		} 
	}

	immediate = {
		play_music_cue = mx_tibet_cue_1
		if = {
			limit = {
				game_start_date > 645.1.1
			}
			character:RICE_zhangzhung_king_001 = {
				save_scope_as = last_zhangzhung
			}
			character:247075 = {
				save_scope_as = songtsen_gampo
			}
		}
		culture:zhangzhung = {
			save_scope_as = zhangzhung
		}
		if = {
			limit = {
				root = scope:zhangzhung_reviver
			}
			RICE_zhangzhung_title_decision_effect = yes
		}
		else = {
			show_as_tooltip = {
				scope:zhangzhung_reviver = {
					RICE_zhangzhung_title_decision_effect = yes					
				}
			}
		}
	}

	option = { # OK
		name = zhangzhung.0013.a
	}
}

# Silver Palace
zhangzhung.0014 = {
	type = character_event
	title = zhangzhung.0014.t
	desc = zhangzhung.0014.desc
	theme = RICE_theme_tibet_temple_exterior_secular

	right_portrait = {
		character = root
		animation = war_over_tie
	}

	immediate = {
		play_music_cue = mx_tibet_cue_1
		RICE_zhangzhung_silver_palace_decision_effect = yes
	}

	option = { # OK
		name = zhangzhung.0014.a
	}
}

# Zuthulpuk Monastery event
zhangzhung.0015 = {
	type = character_event
	title = zhangzhung.0015.t
	desc = zhangzhung.0015.desc
	theme = RICE_theme_mount_kailash
	override_effect_2d = {
		reference = legend_glow
	}


	left_portrait = {
		character = root
		animation = prayer
	}

	right_portrait = {
		character = scope:milarepa
		animation = eavesdrop
	}

	immediate = {
		play_music_cue = mx_tibet_cue_1
		character:RICE_buddhist_008 = {
			save_scope_as = milarepa
		}
		RICE_zhangzhung_zuthulpuk_monastery_decision_effect = yes
	}

	option = {
		name = zhangzhung.0015.a
	}
}

# Terton mechanic is triggered c. 900s/1000s
zhangzhung.0016 = {
	type = character_event
	title = zhangzhung.0016.t
	window = fullscreen_event
	desc = zhangzhung.0016.desc
	theme = faith
	override_background = { reference = RICE_tibetan_buddhist_shrine } # RICE_fullscreen_mountains
	# override_effect_2d = {
	# 	reference = legend_glow
	# }

	immediate = {
		play_music_cue = mx_tibet_cue_1
		character:247126 = {
			save_scope_as = langdarma
		}
		character:RICE_buddhist_001 = {
			save_scope_as = padmasambhava
		}
	}

	option = {
		name = zhangzhung.0016.a
		custom_tooltip = zhangzhung.0016.tooltip.1
		custom_tooltip = zhangzhung.0016.tooltip.2
		custom_tooltip = zhangzhung.0016.tooltip.3
		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = zhangzhung.0016.info
		}
	}
	
}

# Tertons become more common - triggered in the 1100s
zhangzhung.0017 = {
	type = character_event
	title = zhangzhung.0017.t
	window = fullscreen_event
	desc = zhangzhung.0017.desc
	theme = faith
	override_background = { reference = RICE_tibetan_buddhist_shrine } # RICE_fullscreen_mountains
	# override_effect_2d = {
	# 	reference = legend_glow
	# }

	immediate = {
		play_music_cue = mx_tibet_cue_1
		character:247126 = {
			save_scope_as = langdarma
		}
		character:RICE_buddhist_001 = {
			save_scope_as = padmasambhava
		}
	}

	option = {
		name = zhangzhung.0017.a
		custom_tooltip = zhangzhung.0017.tooltip.1
		custom_tooltip = zhangzhung.0017.tooltip.2
		custom_tooltip = zhangzhung.0017.tooltip.3
		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = zhangzhung.0017.info
		}
	}
	
}



######################################################################################
# 
# TERTONS AND TERMAS
# 
# zhangzhung.0020-zhangzhung.0049
# 
######################################################################################



# Generate random Buddhist Tertons
zhangzhung.0020 = {
	type = character_event
	hidden = yes

	immediate = {
		hidden_effect = {
			create_character = {
				location = root.capital_province
				template = terton_template
				culture = culture:bodpa
				faith = faith:lamaism
			}		
		}
	}
}


# Generate random Bon Tertons
zhangzhung.0021 = {
	type = character_event
	hidden = yes

	immediate = {
		hidden_effect = {
			create_character = {
				location = root.capital_province
				template = terton_template
				culture = culture:bodpa
				faith = faith:bon
			}			
		}
	}
}


# Person becomes a potential Terton
zhangzhung.0022 = {
	type = character_event
	title = zhangzhung.0022.t
	desc = zhangzhung.0022.desc
	theme = RICE_theme_tibet_inner_altar

	left_portrait = {
		character = root
		animation = personality_cynical
	}

	right_portrait = {
		character = scope:nyangral
		animation = storyteller
	}

	lower_center_portrait = {
		character = scope:padmasambhava
		trigger = { exists = scope:padmasambhava } # In case the game prunes him for some reason, which it shouldn't since he should be saved
	}

	trigger = {
		RICE_can_acess_terton_mechanics_trigger = yes
		any_courtier = {
			is_available_ai_adult = yes
			faith = root.faith
			RICE_can_acess_terton_mechanics_trigger = yes
			NOT = {
				has_character_flag = RICE_not_eligible_to_become_terton
			}
			age >= 10
		}
	}

	immediate = {
		if = {
			limit = {
				religion = religion:buddhism_religion
				exists = character:RICE_buddhist_001
			}
			character:RICE_buddhist_001 = {
				save_scope_as = padmasambhava
			}			
		}
		random_courtier = {
			limit = {
				is_available_ai_adult = yes
				faith = root.faith
				RICE_can_acess_terton_mechanics_trigger = yes
				NOT = {
					has_character_flag = RICE_not_eligible_to_become_terton
				}
				age >= 10
			}
			weight = {
				base = 10
				# Try to pick someone young
				modifier = {
					age <= 40
					add = 15
				}
				# But not too young
				modifier = {
					age >= 16
					add = 15
				}
				# Try to avoid someone in your dynasty
				modifier = {
					dynasty = root.dynasty
					add = -25
				}
				# Try to pick someone smart
				modifier = {
					learning >= extremely_high_skill_rating
					add = 10
				}
				modifier = {
					learning >= high_skill_rating
					add = 10
				}
				modifier = {
					learning >= medium_skill_rating
					add = 10
				}
				modifier = {
					learning <= mediocre_skill_rating
					add = -15
				}
				modifier = {
					learning <= low_skill_rating
					add = -15
				}
				modifier = {
					has_trait = scholar
					add = 5
				}
				modifier = {
					has_trait = theologian
					add = 5
				}
				modifier = {
					has_trait = lifestyle_mystic
					add = 10
				}
				# Try to pick someone with the right traits
				modifier = {
					has_trait = zealous
					add = 5
				}
				modifier = {
					has_trait = cynical
					add = -5
				}
				modifier = {
					has_trait = compassionate
					add = 5
				}
				modifier = {
					has_trait = sadistic
					add = -5
				}
				modifier = {
					has_trait = calm
					add = 5
				}
				modifier = {
					has_trait = wrathful
					add = -5
				}
				modifier = {
					has_trait = just
					add = 5
				}
				modifier = {
					has_trait = arbitrary
					add = -5
				}
				modifier = {
					has_trait = generous
					add = 5
				}
				modifier = {
					has_trait = greedy
					add = -5
				}
				modifier = {
					has_trait = temperate
					add = 5
				}
				modifier = {
					has_trait = gluttonous
					add = -5
				}
			}
			add_to_list = padmasambhava_dream_candidate	
		}
		random_in_list = {
			list = padmasambhava_dream_candidate
			save_scope_as = nyangral
		}
		scope:nyangral = {
			add_character_modifier = {
				modifier = RICE_terton_candidate
				years = 25
			}
		}
	}

	option = {
		name = zhangzhung.0022.a
		custom_tooltip = zhangzhung.0022.a.tooltip
	}

	option = {
		name = zhangzhung.0022.b
		custom_tooltip = zhangzhung.0022.a.tooltip
	}

	after = {
		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = zhangzhung.0022.info
		}
	}

}

# Supporting/patronizing tertons
zhangzhung.0023 = {
	type = character_event
	title = zhangzhung.0023.t
	desc = zhangzhung.0023.desc
	theme = RICE_theme_tibetan_hall_religious

	left_portrait = {
		trigger = { exists = scope:terton }
		character = scope:terton
		animation = personality_content
	}

	right_portrait = {
		character = root
		animation = personality_zealous
	}

	lower_center_portrait = {
		character = scope:padmasambhava
		trigger = { exists = scope:padmasambhava } # In case the game prunes him for some reason, which it shouldn't since he should be saved
	}

	immediate = {
		if = {
			limit = {
				any_courtier = {
					is_available_ai_adult = yes
					RICE_is_or_can_become_terton_trigger = yes
				}
			}
			random_courtier = {
				limit = {
					is_available_ai_adult = yes
					RICE_is_or_can_become_terton_trigger = yes
				}
				save_scope_as = terton
			}
		}
		if = {
			limit = {
				religion = religion:buddhism_religion
				exists = character:RICE_buddhist_001
			}
			character:RICE_buddhist_001 = {
				save_scope_as = padmasambhava
			}			
		}
	}

	option = {
		name = zhangzhung.0023.a
		RICE_zhangzhung_patronize_tertons_effect = yes
	}

	# after = {
	# 	if = {
	# 		limit = {
	# 			has_game_rule = RICE_historical_context_on
	# 		}
	# 		custom_tooltip = zhangzhung.0023.info
	# 	}
	# }

}

# Focus on searching for termas
zhangzhung.0024 = {
	type = character_event
	title = zhangzhung.0024.t
	desc = zhangzhung.0024.desc
	theme = RICE_theme_tibetan_hall_religious

	right_portrait = {
		character = root
		animation = personality_zealous
	}

	lower_center_portrait = {
		character = scope:padmasambhava
		trigger = { exists = scope:padmasambhava } # In case the game prunes him for some reason, which it shouldn't since he should be saved
	}

	immediate = {
		if = {
			limit = {
				religion = religion:buddhism_religion
				exists = character:RICE_buddhist_001
			}
			character:RICE_buddhist_001 = {
				save_scope_as = padmasambhava
			}			
		}
	}

	option = {
		name = zhangzhung.0024.a
		RICE_zhangzhung_search_for_termas_effect = yes
	}

	# after = {
	# 	if = {
	# 		limit = {
	# 			has_game_rule = RICE_historical_context_on
	# 		}
	# 		custom_tooltip = zhangzhung.0024.info
	# 	}
	# }

}


# Minor terma discovered (as a non-Terton)
zhangzhung.0025 = {
	type = character_event
	hidden = yes

	immediate = {
		if = {
			limit = {
				any_courtier = {
					is_available_ai_adult = yes
					RICE_can_acess_terton_mechanics_trigger = yes
					has_trait = RICE_terton
				}
			}		
			random_courtier = {
				limit = {
					is_available_ai_adult = yes
					RICE_can_acess_terton_mechanics_trigger = yes
					has_trait = RICE_terton
				}
				save_scope_as = terton
			}
			send_interface_message = {
				type = event_religious_good
				title = zhangzhung.minor_terma.message.specific_terton
				left_icon = scope:terton
				add_piety = { RICE_yearly_minor_terma_min_piety RICE_yearly_minor_terma_max_piety }
				add_prestige = { RICE_yearly_minor_terma_min_prestige RICE_yearly_minor_terma_max_prestige }
				scope:terton = {
					RICE_terton_experience_gain_tiny = yes
				}
			}
		}
		else = {
			send_interface_message = {
				type = event_religious_good
				title = zhangzhung.minor_terma.message.generic
				add_piety = { RICE_yearly_minor_terma_min_piety RICE_yearly_minor_terma_max_piety }
				add_prestige = { RICE_yearly_minor_terma_min_prestige RICE_yearly_minor_terma_max_prestige }
			}			
		}
	}
}

# Minor terma discovered (as a Terton yourself)
zhangzhung.0026 = {
	type = character_event
	hidden = yes

	immediate = {
		send_interface_message = {
			type = event_religious_good
			title = zhangzhung.minor_terma.message.self
			left_icon = root
			add_piety = { RICE_yearly_minor_terma_min_piety RICE_yearly_minor_terma_max_piety }
			add_prestige = { RICE_yearly_minor_terma_min_prestige RICE_yearly_minor_terma_max_prestige }
			RICE_terton_experience_gain_tiny = yes
		}
	}
}


# Terton event chain start - Ping event for liege
zhangzhung.0030 = {
	type = character_event
	hidden = yes

	immediate = {
		save_scope_as = terton
		if = {
			limit = {
				religion = religion:buddhism_religion
				exists = character:RICE_buddhist_001
			}
			character:RICE_buddhist_001 = {
				save_scope_as = padmasambhava
			}
		}
		if = {
			limit = {
				exists = employer
			}
			# If in Tibet and nearby regions, there is a chance of choosing a random province in Tibet OR a random province in your duchy
			# if = {
			# 	limit = {
			# 		employer.capital_province = {
			# 			geographical_region = RICE_basic_terton_region
			# 		}
			# 	}
			# 	random_list = {
			# 		50 = {
			# 			random_county_in_region = {
			# 				region = RICE_basic_terton_region
			# 				add_to_list = candidate_counties
			# 			}
			# 		}
			# 		50 = {
			# 			employer.capital_county.duchy = {
			# 				random_in_de_jure_hierarchy = {
			# 					limit = {
			# 						tier = tier_county
			# 					}
			# 					add_to_list = candidate_counties
			# 				}
			# 			}
			# 		}
			# 	}
			# 	random_in_list = {
			# 		list = candidate_counties
			# 		weight = {
			# 			base = 10					
			# 			modifier = {
			# 				add = 30
			# 				faith = scope:terton.faith
			# 			}
			# 			modifier = {
			# 				add = 20
			# 				religion = scope:terton.faith.religion
			# 			}
			# 		}
			# 		save_scope_as = target_county
			# 	}
			# 	scope:target_county = {
			# 		random_county_province = {
			# 			save_scope_as = target_province
			# 		}
			# 	}
			# }
			## Otherwise, choose a random province in your duchy
			#else = {
				employer.capital_county.duchy = {
					random_in_de_jure_hierarchy = {
						limit = {
							tier = tier_county
						}
						add_to_list = candidate_counties
					}
				}
				random_in_list = {
					list = candidate_counties
					weight = {
						base = 10					
						modifier = {
							add = 30
							faith = scope:terton.faith
						}
						modifier = {
							add = 20
							religion = scope:terton.faith.religion
						}
					}
					save_scope_as = target_county
				}
				scope:target_county = {
					random_county_province = {
						save_scope_as = target_province
					}
				}
			#}
			employer = {
				trigger_event = zhangzhung.0031
			}
		}
		# If they don't have an employer for whatever reason by the time the event triggers
		#else = {			
		#}
	}
}

# Terton receives signs/visions/dreams about the location of the terma
zhangzhung.0031 = {
	type = character_event
	title = zhangzhung.0031.t
	desc = zhangzhung.0031.desc
	theme = faith
	override_background = { reference = RICE_background_himalayan_wilderness }

	# left_portrait = {
	# 	character = root
	# 	animation = admiration
	# }

	right_portrait = {
		character = scope:terton
		animation = storyteller
	}

	lower_center_portrait = {
		character = scope:padmasambhava
		trigger = { exists = scope:padmasambhava } # In case the game prunes him for some reason, which it shouldn't since he should be saved
	}

	#immediate = {
	#}


	option = {
		name = zhangzhung.0031.a
		custom_tooltip = zhangzhung.0031.a.tooltip
		scope:terton = {
			# Terton flag
			add_character_modifier = {
				modifier = RICE_zhangzhung_discovering_termas
				years = 1
			}
			# add_character_flag = {
			# 	flag = RICE_terton_journey_flag
			# 	years = 5
			# }
			# To prevent them from somehow leaving your court while they're on the trip
			add_character_flag = {
				flag = blocked_from_leaving
				years = 1
			}
			start_travel_plan = { 
				destination = scope:target_province
				return_trip = yes
				on_arrival_event = zhangzhung.0032
				on_travel_planner_cancel_event = zhangzhung.0034
			}
		}
	}

}


# Terton arrives at the destination where the terma is - Ping event for liege
# For AI, this is not at the travel destination but at the liege's court
zhangzhung.0032 = {
	type = character_event
	hidden = yes

	immediate = {
		save_scope_as = terton		
		if = {
			limit = {
				exists = employer
			}
			# Determine whether there is a success or failure to begin with
			random_list = {
				# Failure
				30 = {
					modifier = {
						add = -10
						has_trait = RICE_terton								
						has_trait_xp = {
							trait = lifestyle_reveler
							value >= 50
						}
					}
					modifier = {
						add = -10
						has_trait = RICE_terton								
						has_trait_xp = {
							trait = lifestyle_reveler
							value >= 100
						}
					}
					set_variable = {
						name = RICE_terma_type
						value = flag:failure
						days = 1
					}
				}
				# Success
				70 = {
					modifier = {
						add = 20
						has_trait = RICE_terton
					}
					# Level of success
					random_list = {
						40 = {
							modifier = {
								add = -10
								has_trait = RICE_terton								
								has_trait_xp = {
									trait = lifestyle_reveler
									value >= 50
								}
							}
							modifier = {
								add = -10
								has_trait = RICE_terton								
								has_trait_xp = {
									trait = lifestyle_reveler
									value >= 50
								}
							}
							set_variable = {
								name = RICE_terma_recognition
								value = flag:questioned
								days = 1
							}
						}
						40 = {
							modifier = {
								add = 20
								has_trait = RICE_terton
							}
							modifier = {
								add = 20
								has_trait = RICE_terton								
								has_trait_xp = {
									trait = lifestyle_reveler
									value >= 50
								}
							}
							modifier = {
								add = 20
								has_trait = RICE_terton								
								has_trait_xp = {
									trait = lifestyle_reveler
									value >= 100
								}
							}
							set_variable = {
								name = RICE_terma_recognition
								value = flag:accepted
								days = 1
							}
						}
						20 = {
							modifier = {
								add = 10
								has_trait = RICE_terton
							}
							modifier = {
								add = 10
								has_trait = RICE_terton								
								has_trait_xp = {
									trait = lifestyle_reveler
									value >= 50
								}
							}
							modifier = {
								add = 10
								has_trait = RICE_terton								
								has_trait_xp = {
									trait = lifestyle_reveler
									value >= 100
								}
							}
							set_variable = {
								name = RICE_terma_recognition
								value = flag:venerated
								days = 1
							}
						}
					}
					# Type of Terma
					random_list = {
						40 = {
							set_variable = {
								name = RICE_terma_type
								value = flag:teachings_physical
								days = 1
							}
						}
						40 = {
							set_variable = {
								name = RICE_terma_type
								value = flag:teachings_internal
								days = 1
							}
						}
						# 10 = {
						# 	set_variable = {
						# 		name = RICE_terma_type
						# 		value = flag:teachings_great
						# 		days = 1
						# 	}
						# 	# Great teachings are always venerated level
						# 	set_variable = {
						# 		name = RICE_terma_quality
						# 		value = flag:teachings_venerated
						# 		days = 1
						# 	}
						# }
						10 = {
							set_variable = {
								name = RICE_terma_type
								value = flag:artifact_statue
								days = 1
							}
						}
						1000 = {
							set_variable = {
								name = RICE_terma_type
								value = flag:artifact_sacred_image
								days = 1
							}
						}
						10 = {
							set_variable = {
								name = RICE_terma_type
								value = flag:artifact_ritual_instrument
								days = 1
							}
						}
						10 = {
							set_variable = {
								name = RICE_terma_type
								value = flag:religious_building
								days = 1
							}
						}
						10 = {
							set_variable = {
								name = RICE_terma_type
								value = flag:riches
								days = 1
							}
						}
						10 = {
							set_variable = {
								name = RICE_terma_type
								value = flag:artifact_scholarly_texts
								days = 1
							}
						}
					}					
				}
			}
			employer = {
				save_scope_as = terton_result_recipient
				trigger_event = zhangzhung.0033
			}
		}
		if = {
			limit = {
				has_character_modifier = RICE_zhangzhung_discovering_termas
			}
			remove_character_modifier = RICE_zhangzhung_discovering_termas
		}
		# Don't remove it in case it was added by other means
		# if = {
		# 	limit = {
		# 		has_character_flag = blocked_from_leaving
		# 	}
		# 	remove_character_flag = blocked_from_leaving
		# }
	}
}

# Terton arrives at the destination where the terma is - liege event
zhangzhung.0033 = {
	type = character_event
	title = zhangzhung.0033.t
	window = big_event_window
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:failure
					}
				}
				desc = zhangzhung.0033.desc.intro.failure
			}
			desc = zhangzhung.0033.desc.intro
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:terton = {
						religion = religion:bon_religion
					}
				}
				desc = zhangzhung.0033.desc.intro.bon
			}			
			triggered_desc = {
				trigger = {
					scope:terton = {
						religion = religion:buddhism_religion
					}
				}
				desc = zhangzhung.0033.desc.intro.buddhist
			}
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:teachings_physical
					}
				}
				desc = zhangzhung.0033.desc.teachings_physical
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:teachings_internal
					}
				}
				desc = zhangzhung.0033.desc.teachings_internal
			}
			# triggered_desc = {
			# 	trigger = {
			# 		scope:terton = {
			# 			var:RICE_terma_type ?= flag:teachings_great
			# 		}
			# 	}
			# 	desc = zhangzhung.0033.desc.teachings_great
			# }
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:artifact_statue
					}
				}
				desc = zhangzhung.0033.desc.artifact_statue
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:artifact_sacred_image
					}
				}
				desc = zhangzhung.0033.desc.artifact_sacred_image
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:artifact_ritual_instrument
					}
				}
				desc = zhangzhung.0033.desc.artifact_ritual_instrument
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:religious_building
					}
				}
				desc = zhangzhung.0033.desc.religious_building
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:riches
					}
				}
				desc = zhangzhung.0033.desc.riches
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:artifact_scholarly_texts
					}
				}
				desc = zhangzhung.0033.desc.artifact_scholarly_texts
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:failure
					}
				}
				desc = zhangzhung.0033.desc.failure
			}
		}
		desc = zhangzhung.0033.desc.middle
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_recognition ?= flag:questioned
					}
				}
				desc = zhangzhung.0033.desc.questioned
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_recognition ?= flag:accepted
					}
				}
				desc = zhangzhung.0033.desc.accepted
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_recognition ?= flag:venerated
					}
				}
				desc = zhangzhung.0033.desc.venerated
			}
		}
	}
	theme = faith
	override_background = { reference = RICE_background_himalayan_wilderness }

	left_portrait = {
		character = root
		triggered_animation = {
			trigger = {				
				scope:terton = {
					var:RICE_terma_type ?= flag:failure
				}
			}
			animation = disappointed
		}
		triggered_animation = {
			trigger = { RICE_can_acess_terton_mechanics_trigger = no }
			animation = personality_cynical
		}
		# If they are a great terton, they don't bow to you
		triggered_animation = {
			trigger = {
				RICE_can_acess_terton_mechanics_trigger = yes
				scope:terton = {				
					has_trait_xp = {
						trait = RICE_terton
						value >= 75
					}
				}
				NOT = {
					has_trait = arrogant
				}
				NOT = {
					has_trait = cynical
				}
			}
			animation = throne_room_bow_3
		}
		animation = admiration
	}

	right_portrait = {
		character = scope:terton
		triggered_animation = {
			trigger = {				
				scope:terton = {
					var:RICE_terma_type ?= flag:failure
				}
			}
			animation = sadness
		}
		# If they are a terton of some renown, they don't bow to you
		triggered_animation = {
			trigger = {				
				scope:terton = {				
					has_trait_xp = {
						trait = RICE_terton
						value >= 50
					}
				}
			}
			animation = personality_compassionate
		}
		animation = obsequious_bow
	}
	
	lower_right_portrait = {		
		character = scope:padmasambhava
		trigger = {
			exists = scope:padmasambhava # In case the game prunes him for some reason, which it shouldn't since he should be saved		
			scope:terton = {
				religion = religion:buddhism_religion
			}
		} 
	}
	artifact = { # To display the artifact in the event-window
		target = scope:terma_artifact
		position = lower_center_portrait
		trigger = { exists = scope:terma_artifact }
	}

	override_effect_2d = {
		trigger = {
			NOT = {			
				scope:terton = {
					var:RICE_terma_type ?= flag:failure
				}
			}
		}
		reference = legend_glow
	}

	immediate = {
		if = {
			limit = {
				scope:terton = {
					religion = religion:buddhism_religion
				}
			}
			character:RICE_buddhist_001 = {
				save_scope_as = padmasambhava
			}
		}
		scope:terton = {
			location = {
				save_scope_as = location
			}
			RICE_terton_conclusion_general_effects = yes
		}
		if = {
			limit = {
				scope:terton = {
					var:RICE_terma_type ?= flag:teachings_physical
				}
			}
		}
		else_if = {
			limit = {
				scope:terton = {
					var:RICE_terma_type ?= flag:teachings_internal
				}
			}
		}
		# else_if = {
		# 	limit = {
		# 		scope:terton = {
		# 			var:RICE_terma_type ?= flag:teachings_great
		# 		}
		# 	}
		# }
		else_if = {
			limit = {
				scope:terton = {
					var:RICE_terma_type ?= flag:artifact_statue
				}
			}
			if = {
				limit = {					
					scope:terton = {
						var:RICE_terma_recognition ?= flag:questioned
					}
				}
				hidden_effect_new_object = {
					create_artifact = {
						name = RICE_terma_statue_name
						description = RICE_terma_statue_questioned_desc
						type = miscellaneous
						visuals = RICE_tibetan_statue					
						quality = 10
						wealth = 10
						modifier = RICE_terma_statue_modifier_1
						save_scope_as = terma_artifact
						history = {
							type = created_before_history
						}
					}
					scope:terma_artifact = {
						random = {
							chance = 20
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {					
					scope:terton = {
						var:RICE_terma_recognition ?= flag:accepted
					}
				}
				hidden_effect_new_object = {
					create_artifact = {
						name = RICE_terma_statue_name
						description = RICE_terma_statue_accepted_desc
						type = miscellaneous
						visuals = RICE_tibetan_statue					
						quality = 45
						wealth = 45
						modifier = RICE_terma_statue_modifier_2
						save_scope_as = terma_artifact
						history = {
							type = created_before_history
						}
					}
					scope:terma_artifact = {
						random_list = {
							10 = {									
								add_artifact_modifier = artifact_monthly_piety_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_learning_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_diplomacy_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_intrigue_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_stress_gain_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_clergy_opinion_4_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legend_spread_mult_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_epidemic_resistance_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_travel_safety_1
							}
							10 = {									
								add_artifact_modifier = artifact_general_opinion_1_modifier
							}
						}
						random = {
							chance = 50
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {					
					scope:terton = {
						var:RICE_terma_recognition ?= flag:venerated
					}
				}
				hidden_effect_new_object = {
					create_artifact = {
						name = RICE_terma_statue_name
						description = RICE_terma_statue_venerated_desc
						type = miscellaneous
						visuals = RICE_tibetan_statue					
						quality = 80
						wealth = 80
						modifier = RICE_terma_statue_modifier_3
						save_scope_as = terma_artifact
						history = {
							type = created_before_history
						}
					}
					scope:terma_artifact = {
						random_list = {
							10 = {									
								add_artifact_modifier = artifact_monthly_piety_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_learning_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_diplomacy_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_intrigue_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_stress_gain_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_clergy_opinion_4_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legend_spread_mult_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_epidemic_resistance_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_travel_safety_1
							}
							10 = {									
								add_artifact_modifier = artifact_general_opinion_1_modifier
							}
						}
						random = {
							chance = 75
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
						random = {
							chance = 40
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				scope:terton = {
					var:RICE_terma_type ?= flag:artifact_sacred_image
				}
			}
			if = {
				limit = {					
					scope:terton = {
						var:RICE_terma_recognition ?= flag:questioned
					}
				}
				hidden_effect_new_object = {
					create_artifact = {
						name = RICE_terma_sacred_image_name
						description = RICE_terma_sacred_image_questioned_desc
						type = miscellaneous
						visuals = RICE_tibetan_thangka					
						quality = 10
						wealth = 10
						modifier = RICE_terma_sacred_image_modifier_1
						save_scope_as = terma_artifact
						history = {
							type = created_before_history
						}
					}
					scope:terma_artifact = {
						random = {
							chance = 20
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {					
					scope:terton = {
						var:RICE_terma_recognition ?= flag:accepted
					}
				}
				hidden_effect_new_object = {
					create_artifact = {
						name = RICE_terma_sacred_image_name
						description = RICE_terma_sacred_image_accepted_desc
						type = miscellaneous
						visuals = RICE_tibetan_thangka					
						quality = 45
						wealth = 45
						modifier = RICE_terma_sacred_image_modifier_2
						save_scope_as = terma_artifact
						history = {
							type = created_before_history
						}
					}
					scope:terma_artifact = {
						random_list = {
							10 = {									
								add_artifact_modifier = artifact_monthly_piety_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_learning_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_diplomacy_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_intrigue_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_stress_gain_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_clergy_opinion_4_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legend_spread_mult_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_epidemic_resistance_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_travel_safety_1
							}
							10 = {									
								add_artifact_modifier = artifact_general_opinion_1_modifier
							}
						}
						random = {
							chance = 50
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {					
					scope:terton = {
						var:RICE_terma_recognition ?= flag:venerated
					}
				}
				hidden_effect_new_object = {
					create_artifact = {
						name = RICE_terma_sacred_image_name
						description = RICE_terma_sacred_image_venerated_desc
						type = miscellaneous
						visuals = RICE_tibetan_thangka					
						quality = 80
						wealth = 80
						modifier = RICE_terma_sacred_image_modifier_3
						save_scope_as = terma_artifact
						history = {
							type = created_before_history
						}
					}
					scope:terma_artifact = {
						random_list = {
							10 = {									
								add_artifact_modifier = artifact_monthly_piety_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_learning_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_diplomacy_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_intrigue_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_stress_gain_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_clergy_opinion_4_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legend_spread_mult_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_epidemic_resistance_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_travel_safety_1
							}
							10 = {									
								add_artifact_modifier = artifact_general_opinion_1_modifier
							}
						}
						random = {
							chance = 75
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
						random = {
							chance = 40
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				scope:terton = {
					var:RICE_terma_type ?= flag:artifact_ritual_instrument
				}
			}
		}
		else_if = {
			limit = {
				scope:terton = {
					var:RICE_terma_type ?= flag:artifact_scholarly_texts
				}
			}
		}
	}

	# Accept it
	option = {
		name = zhangzhung.0033.a
		RICE_terton_conclusion_accept_effects = yes
	}

	# Let them keep it
	option = {
		name = zhangzhung.0033.b
		RICE_terton_conclusion_let_keep_effects = yes
	}

	# Donate it
	option = {
		name = zhangzhung.0033.c
		RICE_terton_conclusion_donate_effects = yes
	}

	after = {
		scope:terton = {					
			if = {
				limit = { has_variable = RICE_terma_type }
				remove_variable = RICE_terma_type
			}
		}
		scope:terton = {					
			if = {
				limit = { has_variable = RICE_terma_recognition }
				remove_variable = RICE_terma_recognition
			}
		}
	}

}

# You receive signs/visions/dreams about the location of the terma
zhangzhung.0040 = {
	type = character_event
	title = zhangzhung.0040.t
	desc = zhangzhung.0040.desc
	theme = faith
	override_background = { reference = RICE_background_himalayan_wilderness }

	# left_portrait = {
	# 	character = root
	# 	animation = admiration
	# }

	right_portrait = {
		character = root
		animation = thinking
	}

	lower_center_portrait = {
		character = scope:padmasambhava
		trigger = { exists = scope:padmasambhava } # In case the game prunes him for some reason, which it shouldn't since he should be saved
	}

	immediate = {
		save_scope_as = terton
		if = {
			limit = {
				religion = religion:buddhism_religion
				exists = character:RICE_buddhist_001
			}
			character:RICE_buddhist_001 = {
				save_scope_as = padmasambhava
			}
		}
		capital_county.duchy = {
			random_in_de_jure_hierarchy = {
				limit = {
					tier = tier_county
				}
				add_to_list = candidate_counties
			}
		}
		random_in_list = {
			list = candidate_counties
			weight = {
				base = 10					
				modifier = {
					add = 30
					faith = scope:terton.faith
				}
				modifier = {
					add = 20
					religion = scope:terton.faith.religion
				}
			}
			save_scope_as = target_county
		}
		scope:target_county = {
			random_county_province = {
				save_scope_as = target_province
			}
		}
	}

	# Time to search for it!
	option = {
		name = zhangzhung.0040.a
		custom_tooltip = zhangzhung.0040.a.tooltip
		# Terton flag
		add_character_modifier = {
			modifier = RICE_zhangzhung_discovering_termas
			years = 1
		}
		start_travel_plan = { 
			destination = scope:target_province
			return_trip = yes
			on_arrival_event = zhangzhung.0041
			on_travel_planner_cancel_event = zhangzhung.0042
		}
	}

	# Nah, I'm busy
	option = {
		name = zhangzhung.0040.b
		custom_tooltip = zhangzhung.0040.b.tooltip
		if = {
			limit = {
				has_trait = zealous
			}
			stress_impact = {
				zealous = minor_stress_impact_gain
				ambitious = miniscule_stress_impact_gain
			}
		}
		else = {
			stress_impact = {
				lazy = minor_stress_impact_loss
				cynical = minor_stress_impact_loss
				craven = miniscule_stress_impact_loss
			}
		}
	}

}


# You, the terton, arrive at the destination where the terma is
zhangzhung.0041 = {
	type = character_event
	title = zhangzhung.0041.t
	window = big_event_window
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:failure
					}
				}
				desc = zhangzhung.0041.desc.intro.failure
			}
			desc = zhangzhung.0041.desc.intro
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:terton = {
						religion = religion:bon_religion
					}
				}
				desc = zhangzhung.0041.desc.intro.bon
			}			
			triggered_desc = {
				trigger = {
					scope:terton = {
						religion = religion:buddhism_religion
					}
				}
				desc = zhangzhung.0041.desc.intro.buddhist
			}
		}
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:teachings_physical
					}
				}
				desc = zhangzhung.0041.desc.teachings_physical
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:teachings_internal
					}
				}
				desc = zhangzhung.0041.desc.teachings_internal
			}
			# triggered_desc = {
			# 	trigger = {
			# 		scope:terton = {
			# 			var:RICE_terma_type ?= flag:teachings_great
			# 		}
			# 	}
			# 	desc = zhangzhung.0041.desc.teachings_great
			# }
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:artifact_statue
					}
				}
				desc = zhangzhung.0041.desc.artifact_statue
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:artifact_sacred_image
					}
				}
				desc = zhangzhung.0041.desc.artifact_sacred_image
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:artifact_ritual_instrument
					}
				}
				desc = zhangzhung.0041.desc.artifact_ritual_instrument
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:religious_building
					}
				}
				desc = zhangzhung.0041.desc.religious_building
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:riches
					}
				}
				desc = zhangzhung.0041.desc.riches
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:artifact_scholarly_texts
					}
				}
				desc = zhangzhung.0041.desc.artifact_scholarly_texts
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_type ?= flag:failure
					}
				}
				desc = zhangzhung.0041.desc.failure
			}
		}
		desc = zhangzhung.0041.desc.middle
		first_valid = {
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_recognition ?= flag:questioned
					}
				}
				desc = zhangzhung.0041.desc.questioned
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_recognition ?= flag:accepted
					}
				}
				desc = zhangzhung.0041.desc.accepted
			}
			triggered_desc = {
				trigger = {
					scope:terton = {
						var:RICE_terma_recognition ?= flag:venerated
					}
				}
				desc = zhangzhung.0041.desc.venerated
			}
		}
	}
	theme = faith
	override_background = { reference = RICE_background_himalayan_wilderness }

	right_portrait = {
		character = root
		triggered_animation = {
			trigger = {				
				scope:terton = {
					var:RICE_terma_type ?= flag:failure
				}
			}
			animation = sadness
		}
		animation = prayer
	}

	
	lower_right_portrait = {		
		character = scope:padmasambhava
		trigger = {
			exists = scope:padmasambhava # In case the game prunes him for some reason, which it shouldn't since he should be saved		
			scope:terton = {
				religion = religion:buddhism_religion
			}
		} 
	}
	artifact = { # To display the artifact in the event-window
		target = scope:terma_artifact
		position = lower_center_portrait
		trigger = { exists = scope:terma_artifact }
	}

	override_effect_2d = {
		trigger = {
			NOT = {			
				scope:terton = {
					var:RICE_terma_type ?= flag:failure
				}
			}
		}
		reference = legend_glow
	}

	immediate = {
		save_scope_as = terton_result_recipient
		# Determine whether there is a success or failure to begin with
		random_list = {
			# Failure
			30 = {
				modifier = {
					add = -10
					has_trait = RICE_terton								
					has_trait_xp = {
						trait = lifestyle_reveler
						value >= 50
					}
				}
				modifier = {
					add = -10
					has_trait = RICE_terton								
					has_trait_xp = {
						trait = lifestyle_reveler
						value >= 100
					}
				}
				set_variable = {
					name = RICE_terma_type
					value = flag:failure
					days = 1
				}
			}
			# Success
			70 = {
				modifier = {
					add = 20
					has_trait = RICE_terton
				}
				# Level of success
				random_list = {
					40 = {
						modifier = {
							add = -10
							has_trait = RICE_terton								
							has_trait_xp = {
								trait = lifestyle_reveler
								value >= 50
							}
						}
						modifier = {
							add = -10
							has_trait = RICE_terton								
							has_trait_xp = {
								trait = lifestyle_reveler
								value >= 50
							}
						}
						set_variable = {
							name = RICE_terma_recognition
							value = flag:questioned
							days = 1
						}
					}
					40 = {
						modifier = {
							add = 20
							has_trait = RICE_terton
						}
						modifier = {
							add = 20
							has_trait = RICE_terton								
							has_trait_xp = {
								trait = lifestyle_reveler
								value >= 50
							}
						}
						modifier = {
							add = 20
							has_trait = RICE_terton								
							has_trait_xp = {
								trait = lifestyle_reveler
								value >= 100
							}
						}
						set_variable = {
							name = RICE_terma_recognition
							value = flag:accepted
							days = 1
						}
					}
					20 = {
						modifier = {
							add = 10
							has_trait = RICE_terton
						}
						modifier = {
							add = 10
							has_trait = RICE_terton								
							has_trait_xp = {
								trait = lifestyle_reveler
								value >= 50
							}
						}
						modifier = {
							add = 10
							has_trait = RICE_terton								
							has_trait_xp = {
								trait = lifestyle_reveler
								value >= 100
							}
						}
						set_variable = {
							name = RICE_terma_recognition
							value = flag:venerated
							days = 1
						}
					}
				}
				# Type of Terma
				random_list = {
					40 = {
						set_variable = {
							name = RICE_terma_type
							value = flag:teachings_physical
							days = 1
						}
					}
					40 = {
						set_variable = {
							name = RICE_terma_type
							value = flag:teachings_internal
							days = 1
						}
					}
					# 10 = {
					# 	set_variable = {
					# 		name = RICE_terma_type
					# 		value = flag:teachings_great
					# 		days = 1
					# 	}
					# 	# Great teachings are always venerated level
					# 	set_variable = {
					# 		name = RICE_terma_quality
					# 		value = flag:teachings_venerated
					# 		days = 1
					# 	}
					# }
					10 = {
						set_variable = {
							name = RICE_terma_type
							value = flag:artifact_statue
							days = 1
						}
					}
					1000 = {
						set_variable = {
							name = RICE_terma_type
							value = flag:artifact_sacred_image
							days = 1
						}
					}
					10 = {
						set_variable = {
							name = RICE_terma_type
							value = flag:artifact_ritual_instrument
							days = 1
						}
					}
					10 = {
						set_variable = {
							name = RICE_terma_type
							value = flag:religious_building
							days = 1
						}
					}
					10 = {
						set_variable = {
							name = RICE_terma_type
							value = flag:riches
							days = 1
						}
					}
					10 = {
						set_variable = {
							name = RICE_terma_type
							value = flag:artifact_scholarly_texts
							days = 1
						}
					}
				}					
			}
		}
		if = {
			limit = {
				has_character_modifier = RICE_zhangzhung_discovering_termas
			}
			remove_character_modifier = RICE_zhangzhung_discovering_termas
		}
		if = {
			limit = {
				scope:terton = {
					religion = religion:buddhism_religion
				}
			}
			character:RICE_buddhist_001 = {
				save_scope_as = padmasambhava
			}
		}
		scope:terton = {
			location = {
				save_scope_as = location
			}
			RICE_terton_conclusion_general_effects = yes
		}
		if = {
			limit = {
				scope:terton = {
					var:RICE_terma_type ?= flag:teachings_physical
				}
			}
		}
		else_if = {
			limit = {
				scope:terton = {
					var:RICE_terma_type ?= flag:teachings_internal
				}
			}
		}
		# else_if = {
		# 	limit = {
		# 		scope:terton = {
		# 			var:RICE_terma_type ?= flag:teachings_great
		# 		}
		# 	}
		# }
		else_if = {
			limit = {
				scope:terton = {
					var:RICE_terma_type ?= flag:artifact_statue
				}
			}
			if = {
				limit = {					
					scope:terton = {
						var:RICE_terma_recognition ?= flag:questioned
					}
				}
				hidden_effect_new_object = {
					create_artifact = {
						name = RICE_terma_statue_name
						description = RICE_terma_statue_questioned_desc
						type = miscellaneous
						visuals = RICE_tibetan_statue					
						quality = 10
						wealth = 10
						modifier = RICE_terma_statue_modifier_1
						save_scope_as = terma_artifact
						history = {
							type = created_before_history
						}
					}
					scope:terma_artifact = {
						random = {
							chance = 20
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {					
					scope:terton = {
						var:RICE_terma_recognition ?= flag:accepted
					}
				}
				hidden_effect_new_object = {
					create_artifact = {
						name = RICE_terma_statue_name
						description = RICE_terma_statue_accepted_desc
						type = miscellaneous
						visuals = RICE_tibetan_statue					
						quality = 45
						wealth = 45
						modifier = RICE_terma_statue_modifier_2
						save_scope_as = terma_artifact
						history = {
							type = created_before_history
						}
					}
					scope:terma_artifact = {
						random_list = {
							10 = {									
								add_artifact_modifier = artifact_monthly_piety_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_learning_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_diplomacy_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_intrigue_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_stress_gain_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_clergy_opinion_4_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legend_spread_mult_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_epidemic_resistance_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_travel_safety_1
							}
							10 = {									
								add_artifact_modifier = artifact_general_opinion_1_modifier
							}
						}
						random = {
							chance = 50
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {					
					scope:terton = {
						var:RICE_terma_recognition ?= flag:venerated
					}
				}
				hidden_effect_new_object = {
					create_artifact = {
						name = RICE_terma_statue_name
						description = RICE_terma_statue_venerated_desc
						type = miscellaneous
						visuals = RICE_tibetan_statue					
						quality = 80
						wealth = 80
						modifier = RICE_terma_statue_modifier_3
						save_scope_as = terma_artifact
						history = {
							type = created_before_history
						}
					}
					scope:terma_artifact = {
						random_list = {
							10 = {									
								add_artifact_modifier = artifact_monthly_piety_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_learning_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_diplomacy_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_intrigue_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_stress_gain_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_clergy_opinion_4_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legend_spread_mult_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_epidemic_resistance_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_travel_safety_1
							}
							10 = {									
								add_artifact_modifier = artifact_general_opinion_1_modifier
							}
						}
						random = {
							chance = 75
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
						random = {
							chance = 40
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				scope:terton = {
					var:RICE_terma_type ?= flag:artifact_sacred_image
				}
			}
			if = {
				limit = {					
					scope:terton = {
						var:RICE_terma_recognition ?= flag:questioned
					}
				}
				hidden_effect_new_object = {
					create_artifact = {
						name = RICE_terma_sacred_image_name
						description = RICE_terma_sacred_image_questioned_desc
						type = miscellaneous
						visuals = RICE_tibetan_thangka					
						quality = 10
						wealth = 10
						modifier = RICE_terma_sacred_image_modifier_1
						save_scope_as = terma_artifact
						history = {
							type = created_before_history
						}
					}
					scope:terma_artifact = {
						random = {
							chance = 20
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {					
					scope:terton = {
						var:RICE_terma_recognition ?= flag:accepted
					}
				}
				hidden_effect_new_object = {
					create_artifact = {
						name = RICE_terma_sacred_image_name
						description = RICE_terma_sacred_image_accepted_desc
						type = miscellaneous
						visuals = RICE_tibetan_thangka					
						quality = 45
						wealth = 45
						modifier = RICE_terma_sacred_image_modifier_2
						save_scope_as = terma_artifact
						history = {
							type = created_before_history
						}
					}
					scope:terma_artifact = {
						random_list = {
							10 = {									
								add_artifact_modifier = artifact_monthly_piety_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_learning_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_diplomacy_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_intrigue_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_stress_gain_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_clergy_opinion_4_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legend_spread_mult_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_epidemic_resistance_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_travel_safety_1
							}
							10 = {									
								add_artifact_modifier = artifact_general_opinion_1_modifier
							}
						}
						random = {
							chance = 50
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
					}
				}
			}
			else_if = {
				limit = {					
					scope:terton = {
						var:RICE_terma_recognition ?= flag:venerated
					}
				}
				hidden_effect_new_object = {
					create_artifact = {
						name = RICE_terma_sacred_image_name
						description = RICE_terma_sacred_image_venerated_desc
						type = miscellaneous
						visuals = RICE_tibetan_thangka					
						quality = 80
						wealth = 80
						modifier = RICE_terma_sacred_image_modifier_3
						save_scope_as = terma_artifact
						history = {
							type = created_before_history
						}
					}
					scope:terma_artifact = {
						random_list = {
							10 = {									
								add_artifact_modifier = artifact_monthly_piety_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_learning_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_diplomacy_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_intrigue_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_stress_gain_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_clergy_opinion_4_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legend_spread_mult_5_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_epidemic_resistance_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
							}
							10 = {									
								add_artifact_modifier = artifact_travel_safety_1
							}
							10 = {									
								add_artifact_modifier = artifact_general_opinion_1_modifier
							}
						}
						random = {
							chance = 75
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
						random = {
							chance = 40
							random_list = {
								10 = {									
									add_artifact_modifier = artifact_monthly_piety_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_learning_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_diplomacy_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_intrigue_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_learning_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_diplomacy_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_intrigue_lifestyle_xp_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_stress_gain_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_zealot_vassal_opinion_2_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_monthly_minor_prestige_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_church_holding_build_speed_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_clergy_opinion_4_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_negate_health_penalty_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_scheme_resistance_add_1_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legend_spread_mult_5_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_epidemic_resistance_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_legitimacy_gain_mult_3_modifier
								}
								10 = {									
									add_artifact_modifier = artifact_travel_safety_1
								}
								10 = {									
									add_artifact_modifier = artifact_general_opinion_1_modifier
								}
							}
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				scope:terton = {
					var:RICE_terma_type ?= flag:artifact_ritual_instrument
				}
			}
		}
		else_if = {
			limit = {
				scope:terton = {
					var:RICE_terma_type ?= flag:artifact_scholarly_texts
				}
			}
		}
	}

	# Accept it
	option = {
		name = zhangzhung.0041.a
		RICE_terton_conclusion_accept_effects = yes
	}

	# Donate it
	option = {
		name = zhangzhung.0041.b
		RICE_terton_conclusion_donate_effects = yes
	}

	after = {
		scope:terton = {					
			if = {
				limit = { has_variable = RICE_terma_type }
				remove_variable = RICE_terma_type
			}
		}
		scope:terton = {					
			if = {
				limit = { has_variable = RICE_terma_recognition }
				remove_variable = RICE_terma_recognition
			}
		}
	}

}



######################################################################################
# 
# MISC DHARMACHAKRA / RAJAS OF ASIA ADAPTED CONTENT
# 
# zhangzhung.0050-zhangzhung.0069
# 
######################################################################################

# Tibetan Buddhist Deities
zhangzhung.0050 = {
	type = character_event
	title = dharma_buddhism.200.t
	desc = dharma_buddhism.200.desc
	theme = RICE_theme_tibet_inner_altar
	# override_background = {
	# 	reference = tibetan_temple
	# }
	left_portrait = {
		character = root
		animation = prayer
	}

	# Bon Deities
	option = {# Sipe Gyalmo
		name = dharma_buddhism.200.gyalmo
		trigger = {
			OR = {
				religion = religion:bon_religion
				religion = religion:west_himalayan_religion
			}
			NOT = { has_character_modifier = buddhist_deity_sipe_gyalmo }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_sipe_gyalmo }
	}

	option = {# Shenlha Okar
		name = dharma_buddhism.200.shenlha
		trigger = {
			OR = {
				religion = religion:bon_religion
				religion = religion:west_himalayan_religion
			}
			NOT = { has_character_modifier = buddhist_deity_shenlha_okar }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_shenlha_okar }
	}

	option = { # Tonpa Shenrab 
		name = dharma_buddhism.200.shenrab
		trigger = {
			OR = {
				religion = religion:bon_religion
				religion = religion:west_himalayan_religion
			}
			NOT = { has_character_modifier = buddhist_deity_tonpa_shenrab }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_tonpa_shenrab }
	}

	option = {# Yeshe Walmo
		name = dharma_buddhism.200.yeshe
		trigger = {
			OR = {
				religion = religion:bon_religion
				religion = religion:west_himalayan_religion
			}
			NOT = { has_character_modifier = buddhist_deity_yeshe_walmo }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_yeshe_walmo }
	}

	option = {# ZhangZhung Meri
		name = dharma_buddhism.200.takla
		trigger = {
			OR = {
				religion = religion:bon_religion
				religion = religion:west_himalayan_religion
			}
			NOT = { has_character_modifier = buddhist_deity_takla_mebar }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_takla_mebar }
	}

	option = {# Zhambala
		name = dharma_buddhism.200.zhambala
		trigger = {
			OR = {
				religion = religion:bon_religion
				religion = religion:west_himalayan_religion
			}
			NOT = { has_character_modifier = buddhist_deity_Zhambala }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_Zhambala }
	}

	option = {# Sherab Chamma
		name = dharma_buddhism.200.chamma
		trigger = {
			OR = {
				religion = religion:bon_religion
				religion = religion:west_himalayan_religion
			}
			NOT = { has_character_modifier = buddhist_deity_sherab_chamma }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_sherab_chamma }
	}

	# Nang Chos Deities
	option = {# Palden Lhamo
		name = dharma_buddhism.200.palden
		trigger = {
			religion = religion:buddhism_religion
			NOT = { has_character_modifier = buddhist_deity_palden_lhamo }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_palden_lhamo }
	}

	option = {# Tara
		name = dharma_buddhism.200.tara
		trigger = {
			religion = religion:buddhism_religion
			NOT = { has_character_modifier = buddhist_deity_tara }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_tara }
	}

	option = {# Avalokiteśvara
		name = dharma_buddhism.200.avalokitesvara
		trigger = {
			religion = religion:buddhism_religion
			NOT = { has_character_modifier = buddhist_deity_avalokitesvara }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_avalokitesvara }
	}

	option = {# Yamantaka
		name = dharma_buddhism.200.yamantaka
		trigger = {
			religion = religion:buddhism_religion
			NOT = { has_character_modifier = buddhist_deity_yamantaka }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_yamantaka }
	}

	option = {# Hevajra
		name = dharma_buddhism.200.hevajra
		trigger = {
			religion = religion:buddhism_religion
			NOT = { has_character_modifier = buddhist_deity_hevajra }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_hevajra }
	}

	option = {# Vajrayogini
		name = dharma_buddhism.200.vajrayogini
		trigger = {
			religion = religion:buddhism_religion
			NOT = { has_character_modifier = buddhist_deity_vajrayogini }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_vajrayogini }
	}

	# Opt-Out
	option = {
		name = dharma_buddhism.200.optout
		ai_chance = {
			base = 0
		}		
	}
}

# Burmese Buddhist Deities
zhangzhung.0051 = {
	type = character_event
	title = dharma_buddhism.201.t
	desc = dharma_buddhism.201.desc
	theme = RICE_theme_sri_lanka_stupa
	# override_background = {
	# 	reference = wood_temple
	# }
	left_portrait = {
		character = root
		animation = prayer
	}

	# Ari Deities
	option = {# Thagyamin
		name = dharma_buddhism.201.thagyamin
		trigger = {
			religion = religion:burmic_religion
			#faith = faith:ari
			NOT = { has_character_modifier = nat_ari_thagyamin }
		}
		set_nat_effect = { NAT = nat_ari_thagyamin }
	}

	option = {# Mahagiri
		name = dharma_buddhism.201.mahagiri
		trigger = {
			religion = religion:burmic_religion
			#faith = faith:ari
			NOT = { has_character_modifier = nat_ari_mahagiri }
		}
		set_nat_effect = { NAT = nat_ari_mahagiri }
	}

	option = { # Hnamadawgyi
		name = dharma_buddhism.201.hnamadawgyi
		trigger = {
			religion = religion:burmic_religion
			#faith = faith:ari
			NOT = { has_character_modifier = nat_ari_hnamadawgyi }
		}
		set_nat_effect = { NAT = nat_ari_hnamadawgyi }
	}

	option = {# Ponmagyi
		name = dharma_buddhism.201.ponmagyi
		trigger = {
			religion = religion:burmic_religion
			#faith = faith:ari
			NOT = { has_character_modifier = nat_ari_ponmagyi }
		}
		set_nat_effect = { NAT = nat_ari_ponmagyi }
	}

	option = {# Sīvali
		name = dharma_buddhism.201.sivalia
		trigger = {
			# OR = {
			# 	faith = faith:ari
			# 	faith = faith:theravada
			# }
			NOT = { has_character_modifier = nat_ari_sivali }
		}
		set_nat_effect = { NAT = nat_ari_sivali }
	}

	option = {# Shwe Nabay
		name = dharma_buddhism.201.nabay
		trigger = {
			religion = religion:burmic_religion
			#faith = faith:ari
			NOT = { has_character_modifier = nat_ari_shwe_nabay }
		}
		set_nat_effect = { NAT = nat_ari_shwe_nabay }
	}

	# Burmese Therevada Deities
	option = {# Thurathadi
		name = dharma_buddhism.201.thurathadi
		trigger = {
			religion = religion:buddhism_religion
			NOT = { has_character_modifier = nat_therevada_thurathadi }
		}
		set_nat_effect = { NAT = nat_therevada_thurathadi }
	}

	option = {# Lokanat
		name = dharma_buddhism.201.lokanat
		trigger = {
			religion = religion:buddhism_religion
			NOT = { has_character_modifier = nat_therevada_lokanat }
		}
		set_nat_effect = { NAT = nat_therevada_lokanat }
	}

	option = {# Panhtwar
		name = dharma_buddhism.201.panhtwar
		trigger = {
			religion = religion:buddhism_religion
			NOT = { has_character_modifier = nat_therevada_panhtwar }
		}
		set_nat_effect = { NAT = nat_therevada_panhtwar }
	}

	option = {# Shin Upagutta
		name = dharma_buddhism.201.shin
		trigger = {
			religion = religion:buddhism_religion
			NOT = { has_character_modifier = nat_therevada_shin_upagutta }
		}
		set_nat_effect = { NAT = nat_therevada_shin_upagutta }
	}

	option = {# Manimekhala
		name = dharma_buddhism.201.manimekhala
		trigger = {
			religion = religion:buddhism_religion
			NOT = { has_character_modifier = nat_therevada_manimekhala }
		}
		set_nat_effect = { NAT = nat_therevada_manimekhala }
	}

	# Opt-Out
	option = {
		name = dharma_buddhism.201.optout
		ai_chance = {
			base = 0
		}		
	}
}

# Mahayana Boddhisattvas
zhangzhung.0052 = {
	type = character_event
	title = dharma_buddhism.202.t
	desc = dharma_buddhism.202.desc
	theme = faith
	# override_background = {
	# 	reference = tibetan_temple
	# }
	left_portrait = {
		character = root
		animation = prayer
	}

	# East Asian Mahayana
	option = {# Guanyin
		name = dharma_buddhism.202.guanyin
		trigger = {
			faith = { has_doctrine = rice_mahayana_canon_doctrine }
			NOR = {
				culture = { has_cultural_pillar = heritage_indo_aryan }
				culture = { has_cultural_pillar = heritage_dravidian }
			}
			NOT = { has_character_modifier = buddhist_deity_guanyin }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_guanyin }
	}
	option = {# Mahasthamaprapta
		name = dharma_buddhism.202.mahasthamaprapta
		trigger = {
			faith = { has_doctrine = rice_mahayana_canon_doctrine }
			NOR = {
				culture = { has_cultural_pillar = heritage_indo_aryan }
				culture = { has_cultural_pillar = heritage_dravidian }
			}
			NOT = { has_character_modifier = buddhist_deity_mahasthamaprapta }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_mahasthamaprapta }
	}
	option = {# Ksitigarbha
		name = dharma_buddhism.202.ksitigarbha
		trigger = {
			faith = { has_doctrine = rice_mahayana_canon_doctrine }
			NOR = {
				culture = { has_cultural_pillar = heritage_indo_aryan }
				culture = { has_cultural_pillar = heritage_dravidian }
			}
			NOT = { has_character_modifier = buddhist_deity_ksitigarbha }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_ksitigarbha }
	}
	option = {# Bhaisajyaguru
		name = dharma_buddhism.202.bhaisajyaguru
		trigger = {
			OR = { 
				faith = { has_doctrine = rice_mahayana_canon_doctrine }
				AND = {
					faith = { has_doctrine = rice_vajrayana_canon_doctrine }
					NOR = {
						culture = { has_cultural_pillar = heritage_indo_aryan }
						culture = { has_cultural_pillar = heritage_dravidian }
					}
				}
			}
			NOT = { has_character_modifier = buddhist_deity_bhaisajyaguru }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_bhaisajyaguru }
	}	
	# Indian Mahayana
	option = {# Vasudhara
		name = dharma_buddhism.202.vasudhara
		trigger = {
			AND = {
				faith = { has_doctrine = rice_mahayana_canon_doctrine }
				OR = {
					culture = { has_cultural_pillar = heritage_indo_aryan }
					culture = { has_cultural_pillar = heritage_dravidian }
				}
			}
			NOT = { has_character_modifier = buddhist_deity_vasudhara }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_vasudhara }
	}
	option = {# Vajrapani
		name = dharma_buddhism.202.vajrapani
		trigger = {
			OR = {
				faith = { has_doctrine = rice_vajrayana_canon_doctrine }
				AND = {
					faith = { has_doctrine = rice_mahayana_canon_doctrine }
					OR = {
						culture = { has_cultural_pillar = heritage_indo_aryan }
						culture = { has_cultural_pillar = heritage_dravidian }
					}
				}
			}
			NOT = { has_character_modifier = buddhist_deity_vajrapani }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_vajrapani }
	}
	option = {# Manjushri
		name = dharma_buddhism.202.manjushri
		trigger = {
			OR = {
				faith = { has_doctrine = rice_vajrayana_canon_doctrine }
				AND = {
					faith = { has_doctrine = rice_mahayana_canon_doctrine }
					OR = {
						culture = { has_cultural_pillar = heritage_indo_aryan }
						culture = { has_cultural_pillar = heritage_dravidian }
					}
				}
			}
			NOT = { has_character_modifier = buddhist_deity_manjushri }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_manjushri }
	}
	option = {# Samantabhadra
		name = dharma_buddhism.202.samantabhadra
		trigger = {
			AND = {
				faith = { has_doctrine = rice_mahayana_canon_doctrine }
				OR = {
					culture = { has_cultural_pillar = heritage_indo_aryan }
					culture = { has_cultural_pillar = heritage_dravidian }
				}
			}
			NOT = { has_character_modifier = buddhist_deity_samantabhadra }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_samantabhadra }
	}
	# Vajarayana Deities
	option = {# Tara
		name = dharma_buddhism.202.tara
		trigger = {
			faith = { has_doctrine = rice_vajrayana_canon_doctrine }
			NOT = { has_character_modifier = buddhist_deity_tara }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_tara }
	}
	option = {# Avalokiteśvara
		name = dharma_buddhism.202.avalokitesvara
		trigger = {
			faith = { has_doctrine = rice_vajrayana_canon_doctrine }
			NOT = { has_character_modifier = buddhist_deity_avalokitesvara }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_avalokitesvara }
	}
	option = {# Ratnasambhava
		name = dharma_buddhism.202.Ratnasambhava
		trigger = {
			faith = { has_doctrine = rice_vajrayana_canon_doctrine }
			NOT = { has_character_modifier = buddhist_deity_ratnasambhava }
		}
		set_yidam_effect = { YIDAM = buddhist_deity_ratnasambhava }
	}
	# Opt-Out
	option = {
		name = dharma_buddhism.200.optout
		ai_chance = {
			base = 0
		}		
	}
}


######################################################################################
# 
# LOSAR (Adapted from Dharmachakra)
# 
# zhangzhung.0070-zhangzhung.0089
# 
######################################################################################

zhangzhung.0070 = {# Losar Starts
	type = activity_event
	title = dharma_festivals.060.t
	desc = dharma_festivals.060.desc
	theme = feast_activity
	override_background = {
		reference = RICE_background_tibetan_hall
	}
	
	right_portrait = root
	
	option = { # Cleaning the palace
		name = dharma_festivals.060.clean
		add_piety = miniscule_piety_gain
		stress_impact = {
			shy = minor_stress_impact_gain
			cynical = minor_stress_impact_gain
		}
	}
	
	after = {
		trigger_event = { 
			id = zhangzhung.0071
			days = { 3 5 }
		}
	}

}

zhangzhung.0071 = {# Lama Losar
	type = activity_event
	title = dharma_festivals.061.t
	desc = dharma_festivals.061.desc
	theme = feast_activity
	override_background = {
		reference = RICE_background_tibetan_hall
	}
	
	left_portrait = {
		character = root
		animation = happiness
	}

	option = {# Pay Homage to your guru
		name = dharma_festivals.061.guru
		if = {
			limit = { exists = cp:councillor_court_chaplain }
			cp:councillor_court_chaplain = {
				add_opinion = {
					target = root
					modifier = pious_opinion
					opinion = 15
				}
			}
		}
		stress_impact = {
			gregarious = miniscule_stress_impact_loss
			zealous = miniscule_stress_impact_loss
			humble = miniscule_stress_impact_loss
			shy = miniscule_stress_impact_gain
			cynical = miniscule_stress_impact_gain
			reclusive = miniscule_stress_impact_gain
		}
	}

	after = {
		trigger_event = { 
			id = zhangzhung.0072
			days = { 3 5 }
		}
	}

}

zhangzhung.0072 = {# King Losaar 
	type = activity_event
	title = dharma_festivals.062.t
	desc = dharma_festivals.062.desc
	theme = feast_activity
	override_background = {
		reference = RICE_background_tibetan_hall
	}
	
	left_portrait = {
		character = root
		animation = happiness
	}

	option = {# It is their due. 
		name = dharma_festivals.062.king
		add_gold = { 5 RICE_losar_gift_amount }
		stress_impact = {
			gregarious = miniscule_stress_impact_loss
			greedy = minor_stress_impact_loss
			generous = miniscule_stress_impact_gain
			shy = miniscule_stress_impact_gain
			reclusive = miniscule_stress_impact_gain
		}
	}

	after = {
		trigger_event = { 
			id = zhangzhung.0073
			days = { 3 5 }
		}
	}
}

zhangzhung.0073 = {# Give Gift to the common people 
	type = activity_event
	title = dharma_festivals.063.t
	desc = dharma_festivals.063.desc
	theme = feast_activity
	override_background = {
		reference = RICE_background_tibet_temple_exterior
	}
	
	left_portrait = {
		character = root
		animation = happiness
	}

	option = {# Large Gift to the People 
		name = dharma_festivals.063.large
		trigger = {
			scope:activity = {
				has_activity_option = {
					category = RICE_festival_losar_gift_type
					option = RICE_festival_losar_gift_large
				}
			}
		}
		add_prestige = medium_prestige_gain
		capital_county = {
			add_county_modifier = {
				modifier = RICE_losar_large_gift_modifier
				years = 3
			}
		}
		stress_impact = {
			greedy = minor_stress_impact_gain
			improvident = minor_stress_impact_loss
			just = minor_stress_impact_loss
			compassionate = minor_stress_impact_loss
			generous = minor_stress_impact_loss
		}
	}
	option = {# Medium Gift to the People 
		name = dharma_festivals.063.medium
		trigger = {
			scope:activity = {
				has_activity_option = {
					category = RICE_festival_losar_gift_type
					option = RICE_festival_losar_gift_medium
				}
			}
		}
		add_prestige = minor_prestige_gain
		capital_county = {
			add_county_modifier = {
				modifier = RICE_losar_medium_gift_modifier
				years = 3
			}
		}
		stress_impact = {
			greedy = miniscule_stress_impact_gain
			improvident = miniscule_stress_impact_loss
			just = miniscule_stress_impact_loss
			compassionate = miniscule_stress_impact_loss
			generous = miniscule_stress_impact_loss
		}
	}
	option = {# Small Gift to the People 
		name = dharma_festivals.063.small
		trigger = {
			scope:activity = {
				has_activity_option = {
					category = RICE_festival_losar_gift_type
					option = RICE_festival_losar_gift_small
				}
			}
		}
		capital_county = {
			add_county_modifier = {
				modifier = RICE_losar_small_gift_modifier
				years = 3
			}
		}
		add_prestige = miniscule_prestige_gain
		stress_impact = {
			greedy = minor_stress_impact_loss
			improvident = minor_stress_impact_gain
			just = minor_stress_impact_gain
			compassionate = minor_stress_impact_gain
			generous = minor_stress_impact_gain
		}
	}

	after = {
		trigger_event = { 
			id = zhangzhung.0074
			days = { 3 5 }
		}
	}
}

zhangzhung.0074 = {# Choe-Kyong Losar 
	type = activity_event
	title = dharma_festivals.064.t
	desc = dharma_festivals.064.desc
	theme = feast_activity
	override_background = {
		reference = RICE_background_tibetan_hall
	}
	
	left_portrait = {
		character = root
		animation = happiness
	}

	option = {# Offer to the Meditional Deities and Boddhisattvas 
		name = dharma_festivals.064.prayers
		add_piety = minor_piety_gain
		stress_impact = {
			gregarious = miniscule_stress_impact_loss
			zealous = miniscule_stress_impact_loss
			shy = miniscule_stress_impact_gain
			cynical = miniscule_stress_impact_gain
		}
	}

	after = {
		trigger_event = { 
			id = zhangzhung.0075
			days = { 3 5 }
		}
	}

}

zhangzhung.0075 = {# Tibetan Dances 
	type = activity_event
	title = dharma_festivals.065.t
	desc = dharma_festivals.065.desc
	theme = feast_activity
	override_background = {
		reference = RICE_background_tibet_temple_exterior
	}
	
	left_portrait = {
		character = root
		animation = throne_room_applaud_1
	}

	option = {# What a wonderful Story 
		name = dharma_festivals.065.dance
		stress_impact = {
			base = minor_stress_impact_loss
		}
	}

	after = {
		trigger_event = { 
			id = zhangzhung.0076
			days = { 3 5 }
		}
	}

}

zhangzhung.0076 = {# feast with the court 
	type = activity_event
	title = dharma_festivals.066.t
	desc = dharma_festivals.066.desc
	theme = feast_activity
	override_background = {
		reference = RICE_background_tibetan_hall
	}
	
	left_portrait = {
		character = root
		animation = happiness
	}

	option = {# It is their due. 
		name = dharma_festivals.066.feast
		every_close_or_extended_family_member = {
			limit = { is_alive = yes }
			add_opinion = {
				modifier = feast_pleasant_time_opinion
				target = root
				opinion = 5
			}
		}
		every_courtier = {
			custom = yearly.4031.b_every_courtier
			add_opinion = {
				modifier = feast_pleasant_time_opinion
				target = root
				opinion = 5
			}
		}
		stress_impact = {
			base = miniscule_stress_impact_loss
			family_first = minor_stress_impact_loss
		}
	}

	after = {
		trigger_event = { 
			id = zhangzhung.0077
			days = { 3 5 }
		}
	}

}

zhangzhung.0077 = {# Losar concludes
	type = activity_event
	title = dharma_festivals.067.t
	desc = dharma_festivals.067.desc
	theme = faith
	override_background = {
		reference = RICE_background_tibet_temple_exterior
	}	
	left_portrait = {
		character = root
		animation = ecstasy
	}
	
	option = {# Back Home
		name = dharma_festivals.067.home
		if = {
			limit = {
				has_activity_intent = RICE_festival_losar_worship_intent
			}
			add_piety = 50
			stress_impact = {
				zealous = minor_stress_impact_loss
				humble = minor_stress_impact_loss
			}
		}
		if = {
			limit = {
				has_activity_intent = RICE_festival_losar_reputation_intent
			}
			add_prestige = 50
			stress_impact = {
				zealous = minor_stress_impact_loss
				arrogant = minor_stress_impact_loss
			}
		}
		RICE_festival_losar_completed_log_entry_effect = yes
	}

	after = {
		scope:activity = {
			hidden_effect = { skip_activity_phase = yes }
		}
		# trigger_event = { 
		# 	id = zhangzhung.0078
		# 	days = 1
		# }
	}
}

# zhangzhung.0078 = {# Misc cleanup
# 	hidden = yes	
# 	immediate = {
# 		RICE_festival_losar_completed_log_entry_effect = yes
# 		scope:activity = {
# 			hidden_effect = { skip_activity_phase = yes }
# 		}
# 	}
# }



######################################################################################
# 
# FULAICH FLOWER FESTIVAL
# 
# zhangzhung.0100-zhangzhung.0119
# 
######################################################################################

# Setup activity
zhangzhung.0100 = {
	type = character_event
	title = zhangzhung.0100.t
	desc = zhangzhung.0100.desc
	theme = travel
	override_background = { reference = RICE_background_himalayan_wilderness }
	
	left_portrait = {
		character = root
		animation = thinking
	}

	trigger = {
		is_available_travelling = yes
		is_landed = yes
		exists = involved_activity
		involved_activity = {
			has_activity_type = activity_RICE_zhangzhung_kinnaur_flower_festival
		}
	}
	
	option = { # Ok
		name = zhangzhung.0100.a
	}	
}


# Arrive at location, flower gatherers set out
# Give offerings to the deceased and to the ancestors first
zhangzhung.0101 = {
	type = activity_event
	title = zhangzhung.0101.t
	desc = {
		desc = zhangzhung.0101.desc
		triggered_desc = {
			trigger = {
				exists = scope:activity.special_guest:RICE_special_guest_flower_collector
			}
			desc = zhangzhung.0101.desc.flower_collector
		}
	}
	theme = RICE_theme_himachal_pradesh_valley
	
	left_portrait = {
		character = scope:flower_collector
		animation = personality_bold
		trigger = {
			exists = scope:flower_collector
		}
	}

	right_portrait = {
		character = root
		animation = happiness
	}

	immediate = {	
		faith = {
			save_scope_as = faith
		}
		scope:activity = {
			activity_location = {
				save_scope_as = location
			}
		}
		scope:activity.special_guest:RICE_special_guest_flower_collector = {
			save_scope_as = flower_collector
		}
	}
	
	option = {
		name = zhangzhung.0101.a
	}
	
	after = {
		trigger_event = {
			id = zhangzhung.0102
			days = { 3 7 }
		}
	}	
}



# Flower gatherers return, decorating flowers everywhere and wearing it on caps, making garlands and bouquets; offerings to ancestors
zhangzhung.0102 = {
	type = activity_event
	title = zhangzhung.0102.t
	desc = {
		desc = zhangzhung.0102.desc.intro	
		first_valid = {
			triggered_desc = {
				trigger = {
					exists = scope:activity.special_guest:RICE_special_guest_flower_collector
				}
				desc = zhangzhung.0102.desc.flower_collector
			}
			desc = zhangzhung.0102.desc.no_flower_collector
		}
		desc = zhangzhung.0102.desc	
	}
	theme = RICE_theme_himachal_pradesh_valley
	
	left_portrait = {
		character = scope:flower_collector
		animation = personality_content
		trigger = {
			exists = scope:flower_collector
		}
	}

	right_portrait = {
		character = root
		animation = throne_room_cheer_1
	}

	immediate = {
		if = {
			limit = {
				exists = scope:flower_collector
			}					
			scope:activity = {
				add_activity_log_entry = {
					key = RICE_zhangzhung_kinnaur_flower_festival_collector_returns_log
					tags = { good }
					show_in_conclusion = yes
					character = scope:flower_collector
					scope:flower_collector = {
						add_piety = 100
						add_prestige = 100
						add_opinion = {
							target = root
							modifier = RICE_kinnaur_festival_flower_collector_opinion
						}
					}
				}
			}
		}
	}
	
	option = {
		name = zhangzhung.0102.a
	}
	
	after = {
		trigger_event = {
			id = zhangzhung.0103
			days = { 3 6 }
		}
	}	
}

# Singing and dancing with the local deity, Sacrifice of sheep/goats, or imitations of them, as deity is brought forth in a procession
zhangzhung.0103 = {
	type = activity_event
	title = zhangzhung.0103.t
	desc = {
		desc = zhangzhung.0103.desc		
		first_valid = {
			triggered_desc = {
				trigger = {
					faith = {
						has_doctrine = rice_bon_deities_new_doctrine
					}
				}
				desc = zhangzhung.0103.desc.new_bon
			}
			desc = zhangzhung.0103.desc.old_bon
		}
	}
	theme = RICE_theme_tibet_outer_altar

	left_portrait = {
		character = root
		animation = prayer
	}	
	
	right_portrait = {
		trigger = { exists = scope:guest_to_display }
		character = scope:guest_to_display
		animation = personality_zealous
	}

	immediate = {
		if = {
			limit = {			
				scope:activity = {
					any_attending_character = {
						NOT = { this = root }
						is_available_ai_adult = yes
					}
				}
			}
			scope:activity = {
				random_attending_character = {
					limit = {
						NOT = { this = root }
						is_available_ai_adult = yes
					}
					save_scope_as = guest_to_display
				}
			}
		}
	}
	
	option = {
		name = zhangzhung.0103.a					
		scope:activity = {
			add_activity_log_entry = {
				key = RICE_zhangzhung_kinnaur_flower_festival_collector_sacrifice_log
				tags = { good }
				show_in_conclusion = yes
				character = scope:host
				if = {
					limit = {				
						scope:activity = {
							has_activity_option = {
								category = RICE_zhangzhung_kinnaur_flower_festival_sacrifice_amount
								option = RICE_zhangzhung_kinnaur_flower_festival_sacrifice_amount_small
							}
						}
					}
					scope:host = {
						add_piety = RICE_zhangzhung_kinnaur_flower_festival_base_piety_small
						add_prestige = RICE_zhangzhung_kinnaur_flower_festival_base_prestige_small
					}
				}
				else_if = {
					limit = {				
						scope:activity = {
							has_activity_option = {
								category = RICE_zhangzhung_kinnaur_flower_festival_sacrifice_amount
								option = RICE_zhangzhung_kinnaur_flower_festival_sacrifice_amount_medium
							}
						}
					}
					scope:host = {
						add_piety = RICE_zhangzhung_kinnaur_flower_festival_base_piety_medium
						add_prestige = RICE_zhangzhung_kinnaur_flower_festival_base_prestige_medium
					}
				}
				else_if = {
					limit = {				
						scope:activity = {
							has_activity_option = {
								category = RICE_zhangzhung_kinnaur_flower_festival_sacrifice_amount
								option = RICE_zhangzhung_kinnaur_flower_festival_sacrifice_amount_large
							}
						}
					}
					scope:host = {
						add_piety = RICE_zhangzhung_kinnaur_flower_festival_base_piety_large
						add_prestige = RICE_zhangzhung_kinnaur_flower_festival_base_prestige_large
					}
				}
			}
		}
	}
	
	after = {
		trigger_event = {
			id = zhangzhung.0104
			days = { 3 6 }
		}
	}	
}

# Oracle of the local deity makes prediction
zhangzhung.0104 = {
	type = activity_event
	title = zhangzhung.0104.t
	desc = zhangzhung.0104.desc
	theme = RICE_theme_tibet_inner_altar

	left_portrait = {
		character = root
		animation = throne_room_applaud_1
	}

	immediate = {	
		if = {
			limit = {				
				scope:activity = {
					has_activity_option = {
						category = RICE_zhangzhung_kinnaur_flower_festival_sacrifice_amount
						option = RICE_zhangzhung_kinnaur_flower_festival_sacrifice_amount_small
					}
				}
			}
			random = {
				chance = RICE_zhangzhung_kinnaur_flower_festival_oracle_chance_low
				RICE_zhangzhung_kinnaur_flower_festival_oracle_modifiers_effect = yes
				RICE_zhangzhung_kinnaur_flower_festival_oracle_log_display_effect = yes
			}
		}
		else_if = {
			limit = {				
				scope:activity = {
					has_activity_option = {
						category = RICE_zhangzhung_kinnaur_flower_festival_sacrifice_amount
						option = RICE_zhangzhung_kinnaur_flower_festival_sacrifice_amount_medium
					}
				}
			}
			random = {
				chance = RICE_zhangzhung_kinnaur_flower_festival_oracle_chance_medium
				RICE_zhangzhung_kinnaur_flower_festival_oracle_modifiers_effect = yes
				RICE_zhangzhung_kinnaur_flower_festival_oracle_log_display_effect = yes
			}
		}
		else_if = {
			limit = {				
				scope:activity = {
					has_activity_option = {
						category = RICE_zhangzhung_kinnaur_flower_festival_sacrifice_amount
						option = RICE_zhangzhung_kinnaur_flower_festival_sacrifice_amount_large
					}
				}
			}
			random = {
				chance = RICE_zhangzhung_kinnaur_flower_festival_oracle_chance_high
				RICE_zhangzhung_kinnaur_flower_festival_oracle_modifiers_effect = yes
				RICE_zhangzhung_kinnaur_flower_festival_oracle_log_display_effect = yes
			}
		}
	}
	
	option = {
		name = zhangzhung.0104.a
	}
	
	after = {
		trigger_event = {
			id = zhangzhung.0105
			days = { 3 6 }
		}
	}	
}

# Dancing at the temple of the deity
zhangzhung.0105 = {
	type = activity_event
	title = zhangzhung.0105.t
	desc = zhangzhung.0105.desc
	theme = RICE_theme_tibet_outer_altar

	left_portrait = {
		character = root
		animation = dancing
	}

	right_portrait = {
		trigger = { exists = scope:guest_to_display }
		character = scope:guest_to_display
		animation = throne_room_cheer_2
	}

	immediate = {
		if = {
			limit = {			
				scope:activity = {
					any_attending_character = {
						NOT = { this = root }
						is_available_ai_adult = yes
					}
				}
			}
			scope:activity = {
				random_attending_character = {
					limit = {
						NOT = { this = root }
						is_available_ai_adult = yes
					}
					save_scope_as = guest_to_display
				}
			}
		}
	}
	
	option = {
		name = zhangzhung.0105.a
	}
	
	after = {
		trigger_event = {
			id = zhangzhung.0106
			days = { 3 6 }
		}
	}	
}

# Conclusion
zhangzhung.0106 = {
	type = activity_event
	title = zhangzhung.0106.t
	desc = zhangzhung.0106.desc
	theme = RICE_theme_himachal_pradesh_valley

	right_portrait = {
		character = root
		animation = personality_forgiving
	}
	
	option = {
		name = zhangzhung.0106.a
		RICE_zhangzhung_kinnaur_flower_festival_completed_log_entry_effect = yes
	}

	after = {
		hidden_effect = {
			scope:activity = {
				hidden_effect = { skip_activity_phase = yes }
			}
		}
	}

}








######################################################################################
# 
# HISTORICAL CHARACTERS
# 
# zhangzhung.0120-zhangzhung.0139
# 
######################################################################################


# Dpal Dus Sgra's startup event: intro
zhangzhung.0120 = {
	type = character_event
	title = zhangzhung.0120.t
	desc = zhangzhung.0120.desc
	theme = RICE_theme_ladakh_wilderness

	right_portrait = {
		character = root
		animation = war_over_tie
	}

	immediate = {
		save_scope_as = dpal_dus_sgra
		character:247142 = {
			save_scope_as = odetsen
		}
		# Generate a couple Burusho courtiers for him
		hidden_effect = {
			RICE_remove_personality_traits_effect = yes
			create_character = {
				employer = root
				template = burusho_courtier_template
				#save_scope_as = RICE_burusho_courtier_spawn_1
				culture = culture:burusho
			}	
			create_character = {
				employer = root
				template = burusho_courtier_template
				#save_scope_as = RICE_burusho_courtier_spawn_2
				culture = culture:burusho
			}
		}
	}

	# Religious building
	option = {
		name = zhangzhung.0120.a	
		random_list = {
			10 = {
				add_trait = zealous
			}
			10 = {
				add_trait = temperate
			}
			10 = {
				add_trait = shy
			}
		}	
	}

	# Building relationships
	option = {
		name = zhangzhung.0120.b	
		random_list = {
			10 = {
				add_trait = gregarious
			}
			10 = {
				add_trait = generous
			}
		}			
	}

	# Defending the region
	option = {
		name = zhangzhung.0120.c
		random_list = {
			10 = {
				add_trait = paranoid
			}
			10 = {
				add_trait = cynical
			}
		}		
	}

	# Enjoying official life
	option = {
		name = zhangzhung.0120.d	
		random_list = {
			10 = {
				add_trait = gluttonous
			}
			10 = {
				add_trait = greedy
			}
		}	
	}

	after = {
		trigger_event = zhangzhung.0121
	}

}

# Dpal Dus Sgra's startup event: family
zhangzhung.0121 = {
	type = character_event
	title = zhangzhung.0121.t
	desc = zhangzhung.0121.desc
	theme = RICE_theme_tibetan_hall_generic

	right_portrait = {
		character = root
		animation = war_over_tie
	}

	# Single
	option = {
		name = zhangzhung.0121.a
		custom_tooltip = zhangzhung.0121.a.tooltip
		add_prestige = 300
		random_list = {
			10 = {
				add_trait = ambitious
			}
			10 = {
				add_trait = chaste
			}
			10 = {
				add_trait = eccentric
			}
		}
	}

	# Has family
	option = {
		name = zhangzhung.0121.b
		custom_tooltip = zhangzhung.0121.b.tooltip
		hidden_effect = {
			RICE_generate_small_family_as_ruler = { CHARACTER = scope:dpal_dus_sgra }			
		}
		random_list = {
			10 = {
				add_trait = patient
			}
			10 = {
				add_trait = content
			}
			10 = {
				add_trait = lustful
			}
		}
	}

	after = {
		trigger_event = zhangzhung.0122
	}

}

# Dpal Dus Sgra's startup event: legacy
zhangzhung.0122 = {
	type = character_event
	title = zhangzhung.0122.t
	desc = zhangzhung.0122.desc
	theme = RICE_theme_spiti_valley

	right_portrait = {
		character = root
		animation = war_over_tie
	}

	# Military defender
	option = {
		name = zhangzhung.0122.a
		add_prestige = 300
		random_list = {
			10 = {
				add_martial_skill = 1
			}
			10 = {
				add_prowess_skill = 1
			}
		}
		random_list = {
			10 = {
				add_trait = brave
			}
			10 = {
				add_trait = wrathful
			}
			10 = {
				add_trait = stubborn
			}
		}
	}

	# Management of frontier
	option = {
		name = zhangzhung.0122.b
		add_prestige = 150
		add_piety = 150
		random_list = {
			10 = {
				add_stewardship_skill = 1
			}
			10 = {
				add_intrigue_skill = 1
			}
		}
		random_list = {
			10 = {
				add_trait = craven
			}
			10 = {
				add_trait = just
			}
			10 = {
				add_trait = calm
			}
		}
	}

	# Spreading of Buddhism
	option = {
		name = zhangzhung.0122.c
		add_piety = 300
		random_list = {
			10 = {
				add_diplomacy_skill = 1
			}
			10 = {
				add_learning_skill = 1
			}
		}
		random_list = {
			10 = {
				add_trait = humble
			}
			10 = {
				add_trait = honest
			}
			10 = {
				add_trait = compassionate
			}
		}
	}

	after = {
		RICE_zhangzhung_dpal_dus_sgra_startup_general_effect = yes
		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = zhangzhung.0122.info
		}
	}
}


# Hrugs Wer starting event
zhangzhung.0130 = {
	type = character_event
	title = zhangzhung.0130.t
	desc = zhangzhung.0130.desc
	theme = faith
	override_background = { reference = RICE_background_spiti_valley }

	#left_portrait = root

	right_portrait = {
		character = scope:rinchen_zangpo
		animation = prayer
	}

	immediate = {
		character:RICE_yudra_8 = {
			save_scope_as = rinchen_zangpo
		}
		show_as_tooltip = {
			dynasty ?= {
				add_dynasty_modifier = {
					modifier = RICE_zhangzhung_hrugs_wer_modifier
				}
			}
		}
		if = {
			limit = {
				has_game_rule = RICE_historical_context_on
			}
			custom_tooltip = zhangzhung.0130.info
		}
	}

	option = {
		name = zhangzhung.0130.a
	}
}







######################################################################################
# 
# GENERIC FLAVOR EVENTS
# 
# zhangzhung.0150-zhangzhung.0199
# 
######################################################################################



# Viewing a thangka at a Buddhist monastery
zhangzhung.0150 = {
	type = character_event
	title = zhangzhung.0150.t
	desc = zhangzhung.0150.desc
	theme = RICE_theme_tibetan_hall_religious

	left_portrait = {
		character = root
		animation = personality_zealous
	}

	right_portrait = {
		character = scope:chaplain
		animation = personality_content
	}
		
	trigger = {
		RICE_tibetan_buddhist_or_reformed_bon_trigger = yes
		cp:councillor_court_chaplain = {
			exists = yes
			is_available_adult = yes
			RICE_tibetan_buddhist_or_reformed_bon_trigger = yes
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			add = 0.2
			has_trait = zealous
		}
		modifier = {
			add = -0.2
			has_trait = cynical
		}
		modifier = {
			add = 0.2
			has_trait = diligent
		}
		modifier = {
			add = -0.2
			has_trait = lazy
		}
		modifier = {
			add = 0.2
			has_trait = humble
		}
		modifier = {
			add = -0.2
			has_trait = arrogant
		}
	}

	immediate = {
		cp:councillor_court_chaplain = { save_scope_as = chaplain }
	}
	

	option = { # Ok
		name = zhangzhung.0150.a
		add_prestige = 25
		stress_impact = {
			humble = minor_stress_impact_gain
			zealous = minor_stress_impact_gain
			content = miniscule_stress_impact_gain
		}
	}

	option = { # Ok
		name = zhangzhung.0150.b
		add_piety = 25
		stress_impact = {
			arrogant = minor_stress_impact_gain
			cynical = minor_stress_impact_gain
			arbitrary = miniscule_stress_impact_gain
		}
	}

	option = { # Ok
		name = zhangzhung.0150.c
		trigger = {
			OR = {
				is_ai = no
				gold >= 30
			}
		}
		remove_short_term_gold = 30
		add_piety = 100
		scope:chaplain = {
			add_opinion = {
				target = root
				modifier = pious_opinion
				opinion = 10
			}
		}
		stress_impact = {
			greedy = minor_stress_impact_gain
			cynical = minor_stress_impact_gain
			callous = miniscule_stress_impact_gain
		}
	}

}







